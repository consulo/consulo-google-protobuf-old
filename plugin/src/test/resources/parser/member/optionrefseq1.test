option (foo) = 5;
option (foo).baz = 5;
option (foo).baz.bus = 5;
option (foo).baz.bar.(foo) = 5;
option (foo).baz.(foo) = 5;
option (foo).baz.(foo).bar = 5;
------
PROTO_FILE
  OPTION_ASSIGNMENT
    PsiElement(OPTION)('option')
    OPTION_REF_SEQ
      EXTEND_FIELD_REF
        PsiElement(OPEN_PARENTHESIS)('(')
        PsiElement(IDENTIFIER)('foo')
        PsiElement(CLOSE_PARENTHESIS)(')')
    PsiElement(EQUAL)('=')
    VALUE
      PsiElement(NUM_INT)('5')
    PsiElement(SEMICOLON)(';')
  OPTION_ASSIGNMENT
    PsiElement(OPTION)('option')
    OPTION_REF_SEQ
      MESSAGE_OR_GROUP_FIELD_REF
        EXTEND_FIELD_REF
          PsiElement(OPEN_PARENTHESIS)('(')
          PsiElement(IDENTIFIER)('foo')
          PsiElement(CLOSE_PARENTHESIS)(')')
        PsiElement(DOT)('.')
        PsiElement(IDENTIFIER)('baz')
    PsiElement(EQUAL)('=')
    VALUE
      PsiElement(NUM_INT)('5')
    PsiElement(SEMICOLON)(';')
  OPTION_ASSIGNMENT
    PsiElement(OPTION)('option')
    OPTION_REF_SEQ
      MESSAGE_OR_GROUP_FIELD_REF
        MESSAGE_OR_GROUP_FIELD_REF
          EXTEND_FIELD_REF
            PsiElement(OPEN_PARENTHESIS)('(')
            PsiElement(IDENTIFIER)('foo')
            PsiElement(CLOSE_PARENTHESIS)(')')
          PsiElement(DOT)('.')
          PsiElement(IDENTIFIER)('baz')
        PsiElement(DOT)('.')
        PsiElement(IDENTIFIER)('bus')
    PsiElement(EQUAL)('=')
    VALUE
      PsiElement(NUM_INT)('5')
    PsiElement(SEMICOLON)(';')
  OPTION_ASSIGNMENT
    PsiElement(OPTION)('option')
    OPTION_REF_SEQ
      MESSAGE_OR_GROUP_FIELD_REF
        MESSAGE_OR_GROUP_FIELD_REF
          EXTEND_FIELD_REF
            PsiElement(OPEN_PARENTHESIS)('(')
            PsiElement(IDENTIFIER)('foo')
            PsiElement(CLOSE_PARENTHESIS)(')')
          PsiElement(DOT)('.')
          PsiElement(IDENTIFIER)('baz')
        PsiElement(DOT)('.')
        PsiElement(IDENTIFIER)('bar')
      PsiElement(DOT)('.')
      EXTEND_FIELD_REF
        PsiElement(OPEN_PARENTHESIS)('(')
        PsiElement(IDENTIFIER)('foo')
        PsiElement(CLOSE_PARENTHESIS)(')')
    PsiElement(EQUAL)('=')
    VALUE
      PsiElement(NUM_INT)('5')
    PsiElement(SEMICOLON)(';')
  OPTION_ASSIGNMENT
    PsiElement(OPTION)('option')
    OPTION_REF_SEQ
      MESSAGE_OR_GROUP_FIELD_REF
        EXTEND_FIELD_REF
          PsiElement(OPEN_PARENTHESIS)('(')
          PsiElement(IDENTIFIER)('foo')
          PsiElement(CLOSE_PARENTHESIS)(')')
        PsiElement(DOT)('.')
        PsiElement(IDENTIFIER)('baz')
      PsiElement(DOT)('.')
      EXTEND_FIELD_REF
        PsiElement(OPEN_PARENTHESIS)('(')
        PsiElement(IDENTIFIER)('foo')
        PsiElement(CLOSE_PARENTHESIS)(')')
    PsiElement(EQUAL)('=')
    VALUE
      PsiElement(NUM_INT)('5')
    PsiElement(SEMICOLON)(';')
  OPTION_ASSIGNMENT
    PsiElement(OPTION)('option')
    OPTION_REF_SEQ
      MESSAGE_OR_GROUP_FIELD_REF
        EXTEND_FIELD_REF
          PsiElement(OPEN_PARENTHESIS)('(')
          PsiElement(IDENTIFIER)('foo')
          PsiElement(CLOSE_PARENTHESIS)(')')
        PsiElement(DOT)('.')
        PsiElement(IDENTIFIER)('baz')
      PsiElement(DOT)('.')
      MESSAGE_OR_GROUP_FIELD_REF
        EXTEND_FIELD_REF
          PsiElement(OPEN_PARENTHESIS)('(')
          PsiElement(IDENTIFIER)('foo')
          PsiElement(CLOSE_PARENTHESIS)(')')
        PsiElement(DOT)('.')
        PsiElement(IDENTIFIER)('bar')
    PsiElement(EQUAL)('=')
    VALUE
      PsiElement(NUM_INT)('5')
    PsiElement(SEMICOLON)(';')